!img /files/images/experian_logo.png
!2 This Test suite will cover tests for use cases planned for Milestone 2

!*> Variables
!define tablesql {select * from information_schema.columns where table_name ='${tablename}'}

!define pksql {SELECT a.attname as PKColumnName FROM pg_index i JOIN pg_attribute a ON a.attrelid = i.indrelid AND a.attnum = ANY(i.indkey) 
WHERE  i.indrelid = '${tablename}'::regclass AND i.indisprimary}

!define indexsql {select t.relname as table_name, i.relname as index_name, a.attname as column_name from pg_class t, pg_class i, 
pg_index ix, pg_attribute a where t.oid = ix.indrelid and i.oid = ix.indexrelid and a.attrelid = t.oid and a.attnum = ANY(ix.indkey) 
and t.relkind = 'r' and t.relname like '${tablename}' order by t.relname, i.relname}

!define foreignkeysql {SELECT tc.constraint_name as constraint_name, tc.table_name as table_name, kcu.column_name as column_name, 
    ccu.table_name AS foreign_table_name, ccu.column_name AS foreign_column_name 
FROM 
    information_schema.table_constraints AS tc 
    JOIN information_schema.key_column_usage AS kcu
      ON tc.constraint_name = kcu.constraint_name
    JOIN information_schema.constraint_column_usage AS ccu
      ON ccu.constraint_name = tc.constraint_name
WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name='${tablename}'
}
*!
!contents -R1 -g -p -f -h